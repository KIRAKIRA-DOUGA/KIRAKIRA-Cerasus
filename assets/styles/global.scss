@import "global-colors";
@import "elements";

@layer base, theme, layout, utilities, component, special;

*,
*::before,
*::after {
	box-sizing: border-box;
	font-family: $chinese-fonts;
	transition: $fallback-transitions;
	user-select: none;
	// -webkit-tap-highlight-color: c(accent, 30%); // 我还是觉得这个触摸样式很丑。
	-webkit-tap-highlight-color: transparent;
}

*:lang(ja) {
	&,
	&::before,
	&::after {
		font-family: $japanese-fonts;
	}
}

*:focus,
*:focus-visible {
	outline: none !important;
}

:root {
	--inner-height: 100vh;
}

body {
	@include full-screen(relative);
	margin: 0;
	padding: 0;
	overflow: hidden;
	color: c(text-color);
	font-size: 14px;
	background-color: c(main-bg);
	transition: background-color $ease-out-max 250ms;

	&.no-scroll {
		overflow: hidden;
	}
}

a {
	cursor: pointer !important;
}

[hidden] {
	display: none !important;
}

.nuxt-icon {
	@include square(1em);
	display: inline-flex;
	align-items: center;
	justify-content: center;

	svg {
		margin-bottom: 0 !important;
	}
}

iframe.noscript-mask {
	@include full-screen;
	z-index: 100;
	border: none;
}

kira-component {
	display: block;
}

h1,
h2,
h3,
h4,
h5,
h6,
p {
	margin: 0;
}

::selection {
	color: white;
	background-color: c(accent);
}

#popovers {
	display: contents;

	> * {
		position: fixed;
		top: 0;
		left: 0;
		z-index: 31;
	}
}

// #region 页面过渡
.page-forward-enter-active,
.page-backward-enter-active,
.page-jump-enter-active {
	transition: all $ease-out-smooth 600ms;
}

.page-forward-leave-active,
.page-backward-leave-active,
.page-jump-leave-active {
	transition: all $ease-in-expo 100ms;
}

.page-forward-enter-from,
.page-backward-leave-to {
	opacity: 0;
	translate: 8rem;
}

.page-forward-leave-to,
.page-backward-enter-from {
	opacity: 0;
	translate: -2rem;
}

.page-jump-enter-from {
	opacity: 0;
	translate: 0 8rem;
}

.page-jump-leave-to {
	opacity: 0;
	translate: 0 -2rem;
}
// #endregion

// #region 滚动条
::-webkit-scrollbar {
	@include oval;
	width: 12px;
	height: 12px;

	&:hover {
		background-color: c(main-fg, 3%);
	}
}

::-webkit-scrollbar-track-piece {
	background-color: transparent;
}

::-webkit-scrollbar-thumb {
	@include oval;
	background-color: transparent;
	border: 4px solid transparent;
	box-shadow: 4px 0 0 4px c(main-fg, 45%) inset;

	&:hover {
		border: 3px solid transparent;
		transform: none;
	}
}

::-webkit-scrollbar-button:single-button {
	@include oval;
	@include square(12px);
	background-color: transparent;
	background-repeat: no-repeat;
	background-position: center;
	background-size: 60%;

	&:active {
		background-size: 50%;
	}

	&:vertical {
		height: 14px;

		&:decrement {
			background-image: url("data:image/svg+xml,%3Csvg width='8' height='6' viewBox='0 0 8 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0.992188 6C0.854167 6 0.72526 5.97396 0.605469 5.92188C0.485677 5.86719 0.380208 5.79557 0.289062 5.70703C0.200521 5.61589 0.130208 5.51042 0.078125 5.39062C0.0260417 5.26823 0 5.13802 0 5C0 4.89062 0.0143229 4.79036 0.0429688 4.69922C0.0742188 4.60807 0.119792 4.51823 0.179688 4.42969L2.78125 0.644531C2.84896 0.545573 2.92839 0.458333 3.01953 0.382812C3.11068 0.307292 3.20833 0.244792 3.3125 0.195312C3.41927 0.143229 3.53125 0.104167 3.64844 0.078125C3.76562 0.0520833 3.88281 0.0390625 4 0.0390625C4.11719 0.0390625 4.23438 0.0520833 4.35156 0.078125C4.46875 0.104167 4.57943 0.143229 4.68359 0.195312C4.79036 0.244792 4.88932 0.307292 4.98047 0.382812C5.07161 0.458333 5.15104 0.545573 5.21875 0.644531L7.82031 4.42969C7.88021 4.51823 7.92448 4.60807 7.95312 4.69922C7.98438 4.79036 8 4.89062 8 5C8 5.13802 7.97396 5.26823 7.92188 5.39062C7.86979 5.51042 7.79948 5.61589 7.71094 5.70703C7.6224 5.79557 7.51693 5.86719 7.39453 5.92188C7.27474 5.97396 7.14714 6 7.01172 6H0.992188Z' fill='black' fill-opacity='0.4458'/%3E%3C/svg%3E");
		}

		&:increment {
			background-image: url("data:image/svg+xml,%3Csvg width='8' height='6' viewBox='0 0 8 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 1C0 0.864583 0.0260417 0.735677 0.078125 0.613281C0.130208 0.490885 0.200521 0.385417 0.289062 0.296875C0.380208 0.205729 0.485677 0.134115 0.605469 0.0820312C0.72526 0.0273438 0.854167 0 0.992188 0H7.01172C7.14714 0 7.27474 0.0260417 7.39453 0.078125C7.51693 0.130208 7.6224 0.201823 7.71094 0.292969C7.79948 0.384115 7.86979 0.490885 7.92188 0.613281C7.97396 0.733073 8 0.860677 8 0.996094C8 1.10547 7.98438 1.20573 7.95312 1.29688C7.92448 1.38802 7.88021 1.47917 7.82031 1.57031L5.21875 5.35547C5.08073 5.55599 4.90365 5.71354 4.6875 5.82812C4.47396 5.94271 4.24479 6 4 6C3.75521 6 3.52474 5.94271 3.30859 5.82812C3.09505 5.71354 2.91927 5.55599 2.78125 5.35547L0.179688 1.57031C0.119792 1.48177 0.0742188 1.39193 0.0429688 1.30078C0.0143229 1.20964 0 1.10938 0 1Z' fill='black' fill-opacity='0.4458'/%3E%3C/svg%3E");
		}
	}
}
// #endregion
